<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix TSL - HMI System Maintenance</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="assets/icons/matrix-icon.ico">    <script src="worksheet-core.js"></script>
<script src="worksheet-tracking.js"></script>

</head>
<body>
  <!-- Navigation -->
  <nav class="main-navigation">
    <div class="nav-container">
      <div class="nav-logo">
        <img src="assets/matrix-logo.png" alt="Matrix Logo">
      </div>
      <ul class="nav-menu" id="nav-menu">
        <li class="nav-item">
          <a href="#" onclick="window.location='index.html'" class="nav-link">
            <i class="fas fa-home"></i> HOME
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='cp0539-worksheets.html'" class="nav-link">
            <i class="fas fa-cogs"></i> CP0539
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='cp6773-worksheets.html'" class="nav-link">
            <i class="fas fa-exclamation-triangle"></i> CP6773
          </a>
        </li>
        
        <li class="nav-item">
          <a href="#" onclick="window.location='tracking-dashboard.html'" class="nav-link">
            <i class="fas fa-chart-line"></i> PROGRESS
          </a>
        </li><li class="nav-item">
          <a href="#" onclick="window.location='settings.html'" class="nav-link">
            <i class="fas fa-gear"></i> SETTINGS
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='about.html'" class="nav-link">
            <i class="fas fa-info-circle"></i> ABOUT
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="worksheet-box">
    <!-- Integrated Worksheet Header -->
    <div class="worksheet-header">
      <div class="worksheet-header-content">
        <div class="worksheet-header-left">
          <button class="worksheet-nav-btn worksheet-back-btn" onclick="window.location.href='worksheet-4.html'">
            <i class="fas fa-arrow-left"></i>
            <span>Previous Worksheet</span>
          </button>
        </div>
        <div class="worksheet-header-center">
          <h1 class="worksheet-title">Worksheet 5 - HMI System Maintenance</h1>
        </div>
        <div class="worksheet-header-right">
          <button class="worksheet-nav-btn worksheet-next-btn" onclick="window.location.href='worksheet-6.html'">
            <span>Next Worksheet</span>
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="worksheet-section introduction-section">
      <h2 class="section-header"><i class="fas fa-info-circle"></i> 1. Introduction</h2>
      <div class="worksheet-content">
        <div class="introduction-content-wrapper">
          <div class="introduction-text">
            <p>This worksheet covers maintenance procedures for HMI system maintenance. The HMI is the primary interface between humans and the automated system.</p>
          </div>
          <div class="introduction-image">
            <div class="system-diagram">
              <img src="assets/maintenance/hmi.png" alt="HMI System Maintenance">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Over To You Section -->
    <div class="worksheet-section over-to-you-section">
      <h2 class="section-header"><i class="fas fa-hands-helping"></i> 2. Over To You</h2>
      <div class="worksheet-content">
        <p><strong>Explore the HMI interface and understand its role in system monitoring and fault management:</strong></p>
        
        <div class="steps-container">
          <div class="step-card" data-step="1">
            <div class="step-number">1</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Navigate HMI Screens</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Run the system and navigate between different HMI screens. Explore the Main Menu, IO Screen, Setup page, and Alarm/Fault pages to understand the available monitoring and control options.</p>
            </div>
          </div>
          
          <div class="step-card" data-step="2">
            <div class="step-number">2</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Test Temperature Cutout</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Leave the system running and navigate to the Setup page. Adjust either the "High Temp Cutout" or "Low Temp Cutout" settings until the system cuts out. Observe how the system responds to these safety limits.</p>
            </div>
          </div>
          
          <div class="step-card" data-step="3">
            <div class="step-number">3</div>
            <div class="step-content">
              <div class="step-header">
                <h4>Alarm Management</h4>
                <label class="step-checkbox">
                  <input type="checkbox" class="step-complete-checkbox">
                  <span class="checkmark"></span>
                </label>
              </div>
              <p>Navigate to the Alarm/Fault page to confirm the active fault. Reset the temperature settings back to original values (High: 30°C, Low: 5°C) and clear the fault to restore normal operation.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- So What Section -->
    <div class="worksheet-section so-what-section">
      <h2 class="section-header"><i class="fas fa-lightbulb"></i> 3. So What?</h2>
      <div class="so-what-content">
        <p>The HMI improves maintenance by providing centralized monitoring, control, and diagnostic capabilities:</p>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Alarm Logging and Management</strong>
            <p>HMIs log alarms and warnings, helping identify faults quickly without requiring direct access to the PLC programming.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Real-time System Monitoring</strong>
            <p>Live data displays confirm sensor functionality and process conditions, enabling proactive maintenance and troubleshooting.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Safety Configuration</strong>
            <p>Setup screens allow configuration of safety limits such as temperature cutouts, ensuring automatic shutdowns prevent equipment damage.</p>
          </div>
        </div>
        
        <div class="key-point">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Control Functions</strong>
            <p>Engineers can reset alarms, adjust setpoints, and test system functions directly through the HMI interface.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="worksheet-section questions-section">
      <h2 class="section-header"><i class="fas fa-question-circle"></i> Questions & Answers</h2>
      <div class="questions-content">
        <div class="question-item" data-question="1">
          <h4>Question 1: What is the purpose of a Human-Machine Interface (HMI)?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-1" value="A" class="option-radio">
              <span class="option-text">A) To allow operators to interact with the system, view live data, control settings, and diagnose faults</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="B" class="option-radio">
              <span class="option-text">B) To control the system automatically</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="C" class="option-radio">
              <span class="option-text">C) To provide power to the system</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="D" class="option-radio">
              <span class="option-text">D) To measure system temperature</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(1)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) To allow operators to interact with the system, view live data, control settings, and diagnose faults.
          </div>
        </div>
        
        <div class="question-item" data-question="2">
          <h4>Question 2: Where can you view system faults and alarms on the HMI?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-2" value="A" class="option-radio">
              <span class="option-text">A) Faults are shown in the Faults section; alarms are shown in the Alarms section of the HMI</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="B" class="option-radio">
              <span class="option-text">B) Faults and alarms are shown on the main screen only</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="C" class="option-radio">
              <span class="option-text">C) Faults and alarms are not shown on the HMI</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="D" class="option-radio">
              <span class="option-text">D) Faults and alarms are shown in the settings menu</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(2)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) Faults are shown in the Faults section; alarms are shown in the Alarms section of the HMI.
          </div>
        </div>
        
        <div class="question-item" data-question="3">
          <h4>Question 3: What happens when you adjust the High or Low Temperature Cutout settings beyond the current temperature?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-3" value="A" class="option-radio">
              <span class="option-text">A) The system shuts down and displays a fault; it will not restart until the settings are returned to safe values</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="B" class="option-radio">
              <span class="option-text">B) The system continues running normally</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="C" class="option-radio">
              <span class="option-text">C) The system speeds up</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="D" class="option-radio">
              <span class="option-text">D) The system slows down</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(3)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The system shuts down and displays a fault; it will not restart until the settings are returned to safe values.
          </div>
        </div>
        
        <div class="question-item" data-question="4">
          <h4>Question 4: How does the HMI assist with troubleshooting and maintenance?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-4" value="A" class="option-radio">
              <span class="option-text">A) It logs alarms, shows sensor readings, lets engineers adjust settings, and helps detect issues like hardware faults or inefficiencies</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="B" class="option-radio">
              <span class="option-text">B) It only displays basic information</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="C" class="option-radio">
              <span class="option-text">C) It controls the system automatically</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="D" class="option-radio">
              <span class="option-text">D) It provides power to the system</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(4)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) It logs alarms, shows sensor readings, lets engineers adjust settings, and helps detect issues like hardware faults or inefficiencies.
          </div>
        </div>
        
        <div class="question-item" data-question="5">
          <h4>Question 5: What real-time information can be seen on the main page of the HMI during system operation?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-5" value="A" class="option-radio">
              <span class="option-text">A) The main screen displays the current water temperature in the top left, along with the system diagram. It also shows flow rate, valve position, and pump demand in real time</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="B" class="option-radio">
              <span class="option-text">B) Only the temperature is shown</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="C" class="option-radio">
              <span class="option-text">C) Only the system diagram is shown</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="D" class="option-radio">
              <span class="option-text">D) Only historical data is shown</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(5)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The main screen displays the current water temperature in the top left, along with the system diagram. It also shows flow rate, valve position, and pump demand in real time.
          </div>
        </div>
      </div>
    </div>

    <!-- Simulation Section -->
    <div class="simulation-section">
      <h2 class="section-header"><i class="fas fa-desktop"></i> 3. Essential HMI Screens for Engineers</h2>
      <div class="worksheet-content">
        <p><strong>These three HMI screens can significantly improve your efficiency as an engineer. Let's explore how each one helps with system monitoring and troubleshooting:</strong></p>

        <!-- Screen Navigation -->
        <div class="screen-navigation" style="display: flex; gap: 15px; margin-bottom: 20px;">
          <button id="show-alarms" class="screen-nav-btn" style="flex: 1; padding: 15px; border-radius: 8px; background: linear-gradient(145deg, #FF5722, #F4511E); color: white; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1);" onclick="showScreen('alarms')">
            <i class="fas fa-bell"></i> Alarms
          </button>
          <button id="show-setup" class="screen-nav-btn" style="flex: 1; padding: 15px; border-radius: 8px; background: linear-gradient(145deg, #2196F3, #1E88E5); color: white; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1);" onclick="showScreen('setup')">
            <i class="fas fa-sliders"></i> Setup
          </button>
          <button id="show-trends" class="screen-nav-btn" style="flex: 1; padding: 15px; border-radius: 8px; background: linear-gradient(145deg, #4CAF50, #43A047); color: white; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1);" onclick="showScreen('trends')">
            <i class="fas fa-chart-line"></i> Trends
          </button>
        </div>

        <!-- Alarms Screen -->
        <div id="alarms-screen" class="hmi-screen" style="background: #1a1a1a; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
          <div class="screen-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="color: #FF5722; margin: 0;"><i class="fas fa-bell"></i> Active Alarms</h3>
            <div class="alarm-controls">
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-filter"></i> Filter
              </button>
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-check"></i> Acknowledge All
              </button>
            </div>
          </div>
          
          <div class="alarm-list" style="background: #222; border-radius: 8px; overflow: hidden;">
            <table style="width: 100%; border-collapse: collapse; color: white;">
              <thead style="background: #333;">
                <tr>
                  <th style="padding: 12px; text-align: left;">Time</th>
                  <th style="padding: 12px; text-align: left;">Priority</th>
                  <th style="padding: 12px; text-align: left;">Description</th>
                  <th style="padding: 12px; text-align: left;">Status</th>
                  <th style="padding: 12px; text-align: left;">Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr style="border-bottom: 1px solid #444;">
                  <td style="padding: 12px;">10:15:22</td>
                  <td style="padding: 12px;"><span style="background: #f44336; padding: 4px 8px; border-radius: 4px;">High</span></td>
                  <td style="padding: 12px;">Tank Temperature Above Limit (45°C)</td>
                  <td style="padding: 12px;">Active</td>
                  <td style="padding: 12px;">
                    <button style="background: #666; border: none; color: white; padding: 4px 8px; border-radius: 4px;">Acknowledge</button>
                  </td>
                </tr>
                <tr style="border-bottom: 1px solid #444;">
                  <td style="padding: 12px;">10:14:55</td>
                  <td style="padding: 12px;"><span style="background: #ff9800; padding: 4px 8px; border-radius: 4px;">Medium</span></td>
                  <td style="padding: 12px;">Flow Rate Below Minimum (0 L/h)</td>
                  <td style="padding: 12px;">Active</td>
                  <td style="padding: 12px;">
                    <button style="background: #666; border: none; color: white; padding: 4px 8px; border-radius: 4px;">Acknowledge</button>
                  </td>
                </tr>
                <tr>
                  <td style="padding: 12px;">10:12:30</td>
                  <td style="padding: 12px;"><span style="background: #ff9800; padding: 4px 8px; border-radius: 4px;">Medium</span></td>
                  <td style="padding: 12px;">Valve Position Mismatch</td>
                  <td style="padding: 12px;">Acknowledged</td>
                  <td style="padding: 12px;">
                    <button style="background: #444; border: none; color: #888; padding: 4px 8px; border-radius: 4px;" disabled>Acknowledged</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="screen-explanation" style="margin-top: 20px; padding: 15px; background: #333; border-radius: 8px; color: #aaa;">
            <h4 style="color: white; margin-top: 0;">How to Use the Alarms Screen:</h4>
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>Monitor active alarms in real-time</li>
              <li>Sort by priority (High, Medium, Low) or time</li>
              <li>Acknowledge alarms after addressing them</li>
              <li>Filter alarms by type or status</li>
              <li>Export alarm history for analysis</li>
            </ul>
            <p style="margin: 10px 0;">
              <i class="fas fa-lightbulb" style="color: #FF5722;"></i> 
              <strong style="color: white;">Pro Tip:</strong> Use alarm patterns to identify recurring issues and plan preventive maintenance.
            </p>
          </div>
        </div>

        <!-- Setup Screen -->
        <div id="setup-screen" class="hmi-screen" style="display: none; background: #1a1a1a; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
          <div class="screen-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="color: #2196F3; margin: 0;"><i class="fas fa-sliders"></i> System Setup</h3>
            <div class="setup-controls">
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-save"></i> Save Changes
              </button>
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-undo"></i> Reset Defaults
              </button>
            </div>
          </div>

          <div class="setup-panels" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <!-- Temperature Settings -->
            <div class="setup-panel" style="background: #222; padding: 15px; border-radius: 8px;">
              <h4 style="color: white; margin-top: 0;">Temperature Control</h4>
              <div class="setting-group" style="margin: 15px 0;">
                <label style="display: block; color: #aaa; margin-bottom: 5px;">High Temperature Cutout</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                  <input type="number" value="45" style="background: #333; border: 1px solid #444; color: white; padding: 8px; border-radius: 4px; width: 80px;">
                  <span style="color: #aaa;">°C</span>
                </div>
              </div>
              <div class="setting-group" style="margin: 15px 0;">
                <label style="display: block; color: #aaa; margin-bottom: 5px;">Low Temperature Cutout</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                  <input type="number" value="5" style="background: #333; border: 1px solid #444; color: white; padding: 8px; border-radius: 4px; width: 80px;">
                  <span style="color: #aaa;">°C</span>
                </div>
              </div>
            </div>

            <!-- Flow Settings -->
            <div class="setup-panel" style="background: #222; padding: 15px; border-radius: 8px;">
              <h4 style="color: white; margin-top: 0;">Flow Control</h4>
              <div class="setting-group" style="margin: 15px 0;">
                <label style="display: block; color: #aaa; margin-bottom: 5px;">Maximum Flow Rate</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                  <input type="number" value="500" style="background: #333; border: 1px solid #444; color: white; padding: 8px; border-radius: 4px; width: 80px;">
                  <span style="color: #aaa;">L/h</span>
                </div>
              </div>
              <div class="setting-group" style="margin: 15px 0;">
                <label style="display: block; color: #aaa; margin-bottom: 5px;">Minimum Flow Rate</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                  <input type="number" value="50" style="background: #333; border: 1px solid #444; color: white; padding: 8px; border-radius: 4px; width: 80px;">
                  <span style="color: #aaa;">L/h</span>
                </div>
              </div>
            </div>
          </div>

          <div class="screen-explanation" style="margin-top: 20px; padding: 15px; background: #333; border-radius: 8px; color: #aaa;">
            <h4 style="color: white; margin-top: 0;">How to Use the Setup Screen:</h4>
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>Configure system safety limits</li>
              <li>Adjust operational parameters</li>
              <li>Save configurations for different processes</li>
              <li>Reset to factory defaults if needed</li>
              <li>Document any changes made</li>
            </ul>
            <p style="margin: 10px 0;">
              <i class="fas fa-lightbulb" style="color: #2196F3;"></i> 
              <strong style="color: white;">Pro Tip:</strong> Always document changes and test system response after adjusting safety limits.
            </p>
          </div>
        </div>

        <!-- Trends Screen -->
        <div id="trends-screen" class="hmi-screen" style="display: none; background: #1a1a1a; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
          <div class="screen-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0;"><i class="fas fa-chart-line"></i> System Trends</h3>
            <div class="trend-controls">
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-clock"></i> Time Range
              </button>
              <button style="background: #333; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-left: 10px;">
                <i class="fas fa-download"></i> Export Data
              </button>
            </div>
          </div>

          <div class="trend-graphs" style="display: grid; gap: 20px;">
            <!-- Temperature Trend -->
            <div class="trend-graph" style="background: #222; padding: 15px; border-radius: 8px;">
              <h4 style="color: white; margin-top: 0;">Temperature Trend</h4>
              <div class="graph-container" style="height: 200px; background: #333; border-radius: 4px; padding: 10px; position: relative;">
                <canvas id="temperatureChart" style="width: 100%; height: 100%;"></canvas>
              </div>
            </div>

            <!-- Flow Rate Trend -->
            <div class="trend-graph" style="background: #222; padding: 15px; border-radius: 8px;">
              <h4 style="color: white; margin-top: 0;">Flow Rate Trend</h4>
              <div class="graph-container" style="height: 200px; background: #333; border-radius: 4px; padding: 10px; position: relative;">
                <canvas id="flowChart" style="width: 100%; height: 100%;"></canvas>
              </div>
            </div>
          </div>

          <div class="screen-explanation" style="margin-top: 20px; padding: 15px; background: #333; border-radius: 8px; color: #aaa;">
            <h4 style="color: white; margin-top: 0;">How to Use the Trends Screen:</h4>
            <ul style="margin: 10px 0; padding-left: 20px;">
              <li>Monitor system performance over time</li>
              <li>Identify patterns and anomalies</li>
              <li>Compare different process variables</li>
              <li>Export data for detailed analysis</li>
              <li>Use historical data for troubleshooting</li>
            </ul>
            <p style="margin: 10px 0;">
              <i class="fas fa-lightbulb" style="color: #4CAF50;"></i> 
              <strong style="color: white;">Pro Tip:</strong> Look for correlations between different variables to identify root causes of issues.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Initialize charts when the DOM is loaded
      document.addEventListener('DOMContentLoaded', function() {
        // Temperature Chart
        const tempCtx = document.getElementById('temperatureChart').getContext('2d');
        const tempChart = new Chart(tempCtx, {
          type: 'line',
          data: {
            labels: Array.from({length: 20}, (_, i) => i),
            datasets: [{
              label: 'Temperature °C',
              data: [25,26,27,28,30,32,35,38,40,42,43,44,45,44,43,42,41,40,39,38],
              borderColor: '#FF5722',
              tension: 0.4,
              fill: false
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: '#444'
                },
                ticks: {
                  color: '#aaa'
                }
              },
              x: {
                grid: {
                  color: '#444'
                },
                ticks: {
                  color: '#aaa'
                }
              }
            },
            plugins: {
              legend: {
                labels: {
                  color: '#aaa'
                }
              }
            }
          }
        });

        // Flow Rate Chart
        const flowCtx = document.getElementById('flowChart').getContext('2d');
        const flowChart = new Chart(flowCtx, {
          type: 'line',
          data: {
            labels: Array.from({length: 20}, (_, i) => i),
            datasets: [{
              label: 'Flow Rate L/h',
              data: [250,248,245,240,235,230,220,210,200,180,150,120,90,60,30,0,0,0,0,0],
              borderColor: '#2196F3',
              tension: 0.4,
              fill: false
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: '#444'
                },
                ticks: {
                  color: '#aaa'
                }
              },
              x: {
                grid: {
                  color: '#444'
                },
                ticks: {
                  color: '#aaa'
                }
              }
            },
            plugins: {
              legend: {
                labels: {
                  color: '#aaa'
                }
              }
            }
          }
        });
      });

      // Function to show different screens
      function showScreen(screenName) {
        // Hide all screens
        document.querySelectorAll('.hmi-screen').forEach(screen => {
          screen.style.display = 'none';
        });
        
        // Show selected screen
        document.getElementById(screenName + '-screen').style.display = 'block';
        
        // Update button styles
        document.querySelectorAll('.screen-nav-btn').forEach(btn => {
          btn.style.transform = 'none';
          btn.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
        });
        
        // Highlight active button
        const activeBtn = document.getElementById('show-' + screenName);
        activeBtn.style.transform = 'translateY(2px)';
        activeBtn.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
      }

      // Show Alarms screen by default
      showScreen('alarms');
    </script>
  </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      loadSavedAnswers();
    });
    
        function submitAnswer(questionNumber) {
          const answerInput = document.querySelector(`[data-question="${questionNumber}"]`);
          if (!answerInput) return;
          
          const selectedOption = document.querySelector(`input[name="question-${questionNumber}"]:checked`);
          if (!selectedOption) {
            alert('Please select an answer before submitting.');
            return;
          }
          
          const answer = selectedOption.value;
          
          // Save with enhanced tracking
          worksheetTracker.saveAnswer(5, questionNumber, answer, 'maintenance');
          
          // Define correct answers for worksheet 5
          const correctAnswers = {
                "1": "A",
                "2": "A",
                "3": "A",
                "4": "A",
                "5": "A"
          };
          
          // Apply visual feedback
          const allOptions = answerInput.querySelectorAll('.option-label');
          const correctAnswer = correctAnswers[questionNumber];
          
          allOptions.forEach(option => {
            const radio = option.querySelector('.option-radio');
            const optionValue = radio.value;
            
            if (optionValue === correctAnswer) {
              option.classList.add('correct');
            } else if (optionValue === answer && answer !== correctAnswer) {
              option.classList.add('incorrect');
            }
          });
          
          // Mark question as submitted to disable further interaction
          answerInput.classList.add('submitted');
          
          // Show feedback on button
          const submitBtn = answerInput.querySelector('.submit-question-btn');
          if (submitBtn) {
            const originalText = submitBtn.textContent;
            submitBtn.textContent = answer === correctAnswer ? 'Correct!' : 'Incorrect!';
            submitBtn.style.background = answer === correctAnswer ? '#4CAF50' : '#f44336';
            
            // Add incorrect class for enhanced styling
            if (answer !== correctAnswer) {
              submitBtn.classList.add('incorrect');
            }
            
            setTimeout(() => {
              submitBtn.textContent = originalText;
              submitBtn.style.background = '#4CAF50';
              submitBtn.classList.remove('incorrect');
            }, 2000);
          }
          
          // Show correct answer if available
          const correctAnswerDiv = answerInput.querySelector('.correct-answer');
          if (correctAnswerDiv) {
            correctAnswerDiv.style.display = 'block';
          }
        }
    function loadSavedAnswers() {
      // This function is now handled by the tracking system
    }
  </script>
  
  <!-- Bottom Navigation -->
  <div class="worksheet-bottom-nav">
    <div class="worksheet-header-content">
      <div class="worksheet-header-left">
        <button class="worksheet-nav-btn worksheet-back-btn" onclick="window.location.href='worksheet-4.html'">
          <i class="fas fa-arrow-left"></i>
          <span>Previous Worksheet</span>
        </button>
      </div>
      <div class="worksheet-header-center">
        <h1 class="worksheet-title">Worksheet 5 - HMI System Maintenance</h1>
      </div>
      <div class="worksheet-header-right">
        <button class="worksheet-nav-btn worksheet-next-btn" onclick="window.location.href='worksheet-6.html'">
          <span>Next Worksheet</span>
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>
  </div>
  
</body>
</html> 