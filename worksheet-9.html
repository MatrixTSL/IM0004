<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix TSL - Proximity Switch System Maintenance</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="assets/icons/matrix-icon.ico">
</head>
<body>
  <nav class="nav-bar">
    <div class="nav-container">
      <div class="nav-left">
        <button class="nav-btn back-btn" onclick="window.location.href='worksheet-8.html'">
          <i class="fas fa-arrow-left"></i> Previous Worksheet
        </button>
      </div>
      <div class="nav-center">
        <h1 class="nav-title">Worksheet 9 - Proximity Switch System Maintenance</h1>
      </div>
      <div class="nav-right">
        <button class="nav-btn next-btn" onclick="window.location.href='worksheet-10.html'">
          Next Worksheet <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </nav>

  <div class="worksheet-box">
    <div class="worksheet-section introduction-section">
      <h2 class="section-header"><i class="fas fa-info-circle"></i> 1. Introduction</h2>
      <div class="worksheet-content">
        <p>This worksheet covers maintenance procedures for proximity switch systems. Proximity switches are non-contact sensors that detect the presence of metallic objects and are critical for position sensing, object detection, and safety applications in industrial systems.</p>
        <div class="system-diagram">
          <img src="assets/maintenance/proximity-switch.png" alt="Proximity Switch System Maintenance">
          <figcaption>Proximity Switch System Maintenance Components</figcaption>
        </div>
      </div>
    </div>



    <div class="worksheet-section questions-section">
      <h2 class="section-header"><i class="fas fa-question-circle"></i> Questions & Answers</h2>
      <div class="questions-content">
        <div class="question-item" data-question="1">
          <h4>Question 1: What are the key maintenance points for proximity switch systems?</h4>
          <textarea class="answer-input" data-question="1" placeholder="Describe the main maintenance requirements for proximity switches..."></textarea>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(1)">Submit Answer</button>
          </div>
        </div>
        <div class="question-item" data-question="2">
          <h4>Question 2: How would you troubleshoot false triggers in a proximity switch system?</h4>
          <textarea class="answer-input" data-question="2" placeholder="Explain your troubleshooting approach for false triggers..."></textarea>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(2)">Submit Answer</button>
          </div>
        </div>
        <div class="question-item" data-question="3">
          <h4>Question 3: What environmental factors can affect proximity switch performance?</h4>
          <textarea class="answer-input" data-question="3" placeholder="Describe environmental considerations for proximity switches..."></textarea>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(3)">Submit Answer</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Simulation Section -->
    <div class="simulation-section">
      <h2 class="section-header"><i class="fas fa-cogs"></i> 3. Interactive Proximity Switch System Maintenance</h2>
      <div id="proximity-sensor-panel" class="simulation-container">
        <div class="simulation-loading">
          <i class="fas fa-spinner fa-spin"></i>
          <p>Loading proximity switch simulation...</p>
          <p>Simulation will initialize automatically</p>
        </div>
      </div>
    </div>
  </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="proximity-switch-simulation.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const initFunc = 'initializeProximitySwitchSimulation';
      setTimeout(() => {
        if (typeof window[initFunc] === 'function') {
          console.log('Initializing', initFunc);
          window[initFunc]();
        } else {
          document.querySelector('.simulation-loading').innerHTML = '<p>Simulation ready - Proximity Switch System Maintenance</p>';
        }
      }, 1000);
      loadSavedAnswers();
    });
    
    function submitAnswer(questionNumber) {
      const input = document.querySelector('[data-question="' + questionNumber + '"]');
      const answer = input.value.trim();
      if (answer) {
        localStorage.setItem('worksheet9_answer' + questionNumber, answer);
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = 'Saved!';
        setTimeout(() => { button.textContent = originalText; }, 2000);
      } else {
        alert('Please enter an answer before submitting.');
      }
    }
    
    function loadSavedAnswers() {
      for (let i = 1; i <= 3; i++) {
        const saved = localStorage.getItem('worksheet9_answer' + i);
        if (saved) {
          const input = document.querySelector('[data-question="' + i + '"]');
          if (input) input.value = saved;
        }
      }
    }
  </script>
</body>
</html> 