<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix TSL - Analogue Sensors System Maintenance</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="icon" type="image/x-icon" href="assets/icons/matrix-icon.ico">
</head>
<body>
  <!-- Navigation -->
  <nav class="main-navigation">
    <div class="nav-container">
      <div class="nav-logo">
        <img src="assets/matrix-logo.png" alt="Matrix Logo">
        <h1>Inspiring the Next Generation of Engineers</h1>
      </div>
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="#" onclick="window.location='index.html'" class="nav-link">
            <i class="fas fa-home"></i> HOME
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='cp0539-worksheets.html'" class="nav-link active">
            <i class="fas fa-cogs"></i> CP0539
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='cp6773-worksheets.html'" class="nav-link">
            <i class="fas fa-exclamation-triangle"></i> CP6773
          </a>
        </li>
        <li class="nav-item">
          <a href="#" onclick="window.location='settings.html'" class="nav-link">
            <i class="fas fa-gear"></i> SETTINGS
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <nav class="nav-bar">
    <div class="nav-container">
      <div class="nav-left">
        <button class="nav-btn back-btn" onclick="window.location.href='worksheet-12.html'">
          <i class="fas fa-arrow-left"></i> Previous Worksheet
        </button>
      </div>
      <div class="nav-center">
        <h1 class="nav-title">Worksheet 13 - Analogue Sensors System Maintenance</h1>
      </div>
      <div class="nav-right">
        <button class="nav-btn next-btn" onclick="window.location.href='worksheet-14.html'">
          Next Worksheet <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </nav>

  <div class="worksheet-box">
    <div class="worksheet-section introduction-section">
      <h2 class="section-header"><i class="fas fa-info-circle"></i> 1. Introduction</h2>
      <div class="worksheet-content">
        <p>This worksheet covers maintenance procedures for analogue sensor systems. Analogue sensors provide continuous variable signals (typically 4-20mA or 0-10V) and are essential for precise measurement, process control, and monitoring of continuous variables in industrial systems.</p>
        <div class="system-diagram">
          <img src="assets/maintenance/analogue-sensors.png" alt="Analogue Sensors System Maintenance">
          <figcaption>Analogue Sensors System Maintenance Components</figcaption>
        </div>
      </div>
    </div>



    <div class="worksheet-section questions-section">
      <h2 class="section-header"><i class="fas fa-question-circle"></i> Questions & Answers</h2>
      <div class="questions-content">
        <div class="question-item" data-question="1">
          <h4>Question 1: What is the only analogue sensor used on this training rig, and what does it measure?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-1" value="A" class="option-radio">
              <span class="option-text">A) The temperature sensor, which measures from 0 to 100°C</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="B" class="option-radio">
              <span class="option-text">B) The flow sensor, which measures flow rate</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="C" class="option-radio">
              <span class="option-text">C) The pressure sensor, which measures pressure</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-1" value="D" class="option-radio">
              <span class="option-text">D) The level sensor, which measures tank level</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(1)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The temperature sensor, which measures from 0 to 100°C.
          </div>
        </div>
        
        <div class="question-item" data-question="2">
          <h4>Question 2: What voltage signal does the temperature sensor send to the PLC, and what temperature range does it represent?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-2" value="A" class="option-radio">
              <span class="option-text">A) It sends a 0–10V signal, where 0V = 0°C and 10V = 100°C</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="B" class="option-radio">
              <span class="option-text">B) It sends a 0–24V signal, where 0V = 0°C and 24V = 100°C</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="C" class="option-radio">
              <span class="option-text">C) It sends a 0–5V signal, where 0V = 0°C and 5V = 100°C</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-2" value="D" class="option-radio">
              <span class="option-text">D) It sends a 0–12V signal, where 0V = 0°C and 12V = 100°C</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(2)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) It sends a 0–10V signal, where 0V = 0°C and 10V = 100°C.
          </div>
        </div>
        
        <div class="question-item" data-question="3">
          <h4>Question 3: What does the PLC do with the analogue voltage signal it receives from the sensor?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-3" value="A" class="option-radio">
              <span class="option-text">A) The PLC scales the voltage into a real temperature value using a formula, so it can be shown correctly on the HMI</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="B" class="option-radio">
              <span class="option-text">B) The PLC amplifies the voltage signal</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="C" class="option-radio">
              <span class="option-text">C) The PLC filters the voltage signal</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-3" value="D" class="option-radio">
              <span class="option-text">D) The PLC stores the voltage signal</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(3)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The PLC scales the voltage into a real temperature value using a formula, so it can be shown correctly on the HMI.
          </div>
        </div>
        
        <div class="question-item" data-question="4">
          <h4>Question 4: What happens if the sensor range changes from 0–100°C to 0–300°C but the PLC scaling is not updated?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-4" value="A" class="option-radio">
              <span class="option-text">A) The temperature readings will be wrong. For example, it may show 100°C when the real temperature is actually 300°C</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="B" class="option-radio">
              <span class="option-text">B) The temperature readings will be correct</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="C" class="option-radio">
              <span class="option-text">C) The system will shut down</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-4" value="D" class="option-radio">
              <span class="option-text">D) The sensor will stop working</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(4)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) The temperature readings will be wrong. For example, it may show 100°C when the real temperature is actually 300°C.
          </div>
        </div>
        
        <div class="question-item" data-question="5">
          <h4>Question 5: Why might an offset be used, and how does it affect the final temperature value?</h4>
          <div class="multiple-choice-options">
            <label class="option-label">
              <input type="radio" name="question-5" value="A" class="option-radio">
              <span class="option-text">A) An offset corrects small errors in readings. For example, if the sensor reads 5°C too high, applying an offset of -5 adjusts it back to the correct value</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="B" class="option-radio">
              <span class="option-text">B) An offset increases the measurement range</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="C" class="option-radio">
              <span class="option-text">C) An offset makes the sensor more sensitive</span>
            </label>
            <label class="option-label">
              <input type="radio" name="question-5" value="D" class="option-radio">
              <span class="option-text">D) An offset reduces power consumption</span>
            </label>
          </div>
          <div class="question-actions">
            <button class="submit-question-btn" onclick="submitAnswer(5)">Submit Answer</button>
          </div>
          <div class="correct-answer" style="display: none; margin-top: 15px; padding: 15px; background: #1a2f1a; border-radius: 4px; border-left: 3px solid #4CAF50;">
            <strong style="color: #4CAF50;">Correct Answer:</strong> A) An offset corrects small errors in readings. For example, if the sensor reads 5°C too high, applying an offset of -5 adjusts it back to the correct value.
          </div>
        </div>
      </div>
    </div>

    <!-- Simulation Section -->
    <div class="simulation-section">
      <h2 class="section-header"><i class="fas fa-cogs"></i> 3. Interactive Analogue Sensors System Maintenance</h2>
      <div id="analogue-sensors-panel" class="simulation-container">
        <div class="simulation-loading">
          <i class="fas fa-spinner fa-spin"></i>
          <p>Loading analogue sensors simulation...</p>
          <p>Simulation will initialize automatically</p>
        </div>
      </div>
    </div>
  </div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="analogue-sensors-simulation.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const initFunc = 'initializeAnalogueSensorsSimulation';
      setTimeout(() => {
        if (typeof window[initFunc] === 'function') {
          console.log('Initializing', initFunc);
          window[initFunc]();
        } else {
          document.querySelector('.simulation-loading').innerHTML = '<p>Simulation ready - Analogue Sensors System Maintenance</p>';
        }
      }, 1000);
      loadSavedAnswers();
    });
    
        function submitAnswer(questionNumber) {
      const questionItem = document.querySelector([data-question="${questionNumber}"]);
      const selectedOption = questionItem.querySelector('.option-radio:checked');
      const answer = selectedOption ? selectedOption.value : '';
      
      if (answer) {
        // Define correct answers for worksheet 13
        const correctAnswers = {
          1: 'A',
          2: 'A',
          3: 'A',
          4: 'A',
          5: 'A'
        };
        
        localStorage.setItem(worksheet13_answer${questionNumber}, answer);
        
        // Apply visual feedback
        const allOptions = questionItem.querySelectorAll('.option-label');
        const correctAnswer = correctAnswers[questionNumber];
        
        allOptions.forEach(option => {
          const radio = option.querySelector('.option-radio');
          const optionValue = radio.value;
          
          if (optionValue === correctAnswer) {
            option.classList.add('correct');
          } else if (optionValue === answer && answer !== correctAnswer) {
            option.classList.add('incorrect');
          }
        });
        
        // Mark question as submitted to disable further interaction
        questionItem.classList.add('submitted');
        
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = answer === correctAnswer ? 'Correct!' : 'Incorrect!';
        button.style.background = answer === correctAnswer ? '#4CAF50' : '#f44336';
        
        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 2000);

        // Show correct answer
        const correctAnswerDiv = questionItem.querySelector('.correct-answer');
        correctAnswerDiv.style.display = 'block';

      } else {
        alert('Please select an answer before submitting.');
      }
    }
    
        function loadSavedAnswers() {
      // Define correct answers for worksheet 13
      const correctAnswers = {
         1: 'A',
         2: 'A',
         3: 'A',
         4: 'A',
         5: 'A'
       };
      
      for (let i = 1; i <= 5; i++) {
        const saved = localStorage.getItem(worksheet13_answer${i});
        if (saved) {
          const questionItem = document.querySelector([data-question="${i}"]);
          if (questionItem) {
            const selectedOption = questionItem.querySelector(.option-radio[value="${saved}"]);
            if (selectedOption) {
              selectedOption.checked = true;
              
              // Apply visual feedback for saved answers
              const allOptions = questionItem.querySelectorAll('.option-label');
              const correctAnswer = correctAnswers[i];
              
              allOptions.forEach(option => {
                const radio = option.querySelector('.option-radio');
                const optionValue = radio.value;
                
                if (optionValue === correctAnswer) {
                  option.classList.add('correct');
                } else if (optionValue === saved && saved !== correctAnswer) {
                  option.classList.add('incorrect');
                }
              });
              
              // Mark question as submitted to disable further interaction
              questionItem.classList.add('submitted');
              
              // Show correct answer
              const correctAnswerDiv = questionItem.querySelector('.correct-answer');
              correctAnswerDiv.style.display = 'block';
            }
          }
        }
      }
    }
  </script>
</body>
</html> 